<!DOCTYPE html>
<html lang="en">
 <head> 
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <meta name="description" content="" /> 
  <meta name="author" content="" /> 
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" /> 
  <title>Helium.io</title>
  <!-- Bootstrap core CSS --> 
  <link href="css/bootstrap.css" rel="stylesheet" /> 
  <!-- Custom styles for this template --> 
  <link href="css/helium.css" rel="stylesheet" />
 </head> 
 <body> 
  <div class="navbar navbar-inverse navbar-static-top"> 
   <div class="container"> 
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
    <a class="navbar-brand" href="#">Helium.io</a>
    <div class="nav-collapse collapse"> 
          <ul class="nav navbar-nav">
            <li><a href="index.html">Home</a></li>
          <li><a href="howItWorks.html">How It Works</a></li> 
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="tutorial.html">Tutorial</a></li>
              <li><a href="drawing.html">Drawing</a></li>
              <li><a href="presence.html">Presence</a></li>
            </ul>
          </li>
        <li class="active"><a href="#">Reference</a></li>
          </ul>
    </div> 
    <!--/.nav-collapse --> 
   </div> 
  </div> 
  <div class="container mainContent"> 
   <div class="row"> 
    <!--main content--> 
    <div class="col-lg-3"> 
     <div class="bs-sidebar" style=""> 
      <ul class="nav bs-sidenav"> 
       <li> <a href="#quickstart">Quickstart</a> 
        <ul class="nav"> 
         <li class=""><a href="#quickstart-installation">Installation</a></li> 
         <li class=""><a href="#quickstart-javascript">Javascript</a></li> 
         <li class=""><a href="#quickstart-rest">REST</a></li> 
        </ul> </li> 
       <li> <a href="#basics">Basics</a> 
        <ul class="nav"> 
         <li class=""><a href="#basics-structure">Data Structure</a></li> 
         <li class=""><a href="#basics-references">Creating References</a></li> 
         <li class=""><a href="#basics-writing">Writing Data</a></li> 
         <li class=""><a href="#basics-reading">Reading Data</a></li> 
        </ul> </li> 
      </ul> 
     </div> 
    </div> 
    <div class="col-lg-9 doc-content"> 
     <div class="page-header"> 
      <h1 id="quickstart">Quick Start</h1> 
     </div> 
     <h2 id="quickstart-installation">Installation</h2> 
     <h4></h4> 
     <h3>Tomcat</h3> 
     <p>Simply put the <i>helium.war</i> into the webapps folder of your Apache Tomcat v7.0.3x. Afterwards helium.io will be available to your under <i>http://localhost:8080/helium.io</i></p>
     <h3>Vert.x Standalone</h3> 
     <p>You can also use the vertx standalone variant of helium.</p>
     <pre style=""><code style="font-size: 12px;">java -jar helium.io-standalone.jar -url <span class="string">http://localhost:8080/helium.io</span><span class="xml"><span class="tag"><br style="" /></span></span></code></pre>
     <p></p> 
     <p></p> 
     <h2 id="quickstart-javascript">Javascript</h2> 
     <p>Simply include the JavaScript library in the &lt;head&gt; tag of your web page.&nbsp;</p> 
     <pre><code>&lt;script type=<span class="string">'text/javascript'</span> src=<span class="string">'http://localhost:8080/helium.io/helium.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></code></pre>
     <p>Finally, create a Helium.io reference using the URL to your Helium.io Repository and start using your data: </p>
     <pre><code><span class="keyword">var</span> myRootRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io'</span>);
myRootRef.set(<span class="string">'Beep, Beep'</span>);</code></pre> 
     <p></p> 
     <h2 id="quickstart-rest">REST</h2> 
     <p>You can use any Helium.io URL as a REST endpoint. </p>
     <p>Here we read some data from the root of our Helium.io: </p>
     <pre><code>curl http:<span class="comment">//localhost:8080/helium.io</span></code></pre>
     <p>Next, we write data at some data inside the repository: </p> 
     <pre><code>curl -X PUT -d <span class="string">&quot;\&quot;Beep, Beep\&quot;&quot;</span> http:<span class="comment">//localhost:8080/helium.io</span></code></pre>
     <h1 id="basics">Basics&nbsp; </h1> 
     <h2 id="basics-structure">Data Structure</h2> 
     <pre><code>http:<span class="comment">//localhost:8080/helium.io/sample-chat</span></code></pre>
     <p>Every data node inside a Helium.io repository is addressable by URL. For example, here's a depiction of a Simple Helium.io Repository with a title and two heroes: </p>
     <p><img src="images/RepositoryStructure.png" alt="SampleChat Data Structure" /> </p> 
     <p>These URLs that point to data are called locations. At a location inside a Helium.io Repository you can store strings, numbers, booleans, or nested children. To store data hierarchically you should use nested children. For example, our simple example has a list of heroes, which are located at: </p>
     <pre><code>http:<span class="comment">//localhost:8080/helium.io/heroes</span></code></pre>
     <p>The data for 'superman' and 'batman' are stored at these nested locations: </p> 
     <pre><code>http:<span class="comment">//localhost:8080/helium.io/heroes/batman</span>
http:<span class="comment">//localhost:8080/helium.io/heroes/superman</span></code></pre>
     <p>In our example, 'batman' and 'superman' are <strong>children</strong> of 'heroes', and 'heroes' is the <strong>parent</strong> of 'batman' and 'superman'. </p> 
     <p>Please note a location can either contain data (a string, number, or boolean) or a nested node, but not both. </p> 
     <p>Locations for data can nest as deeply as you like. For example, the last name for user 'batman' is located at: </p> 
     <pre><code>http:<span class="comment">//localhost:8080/helium.io/heroes/batman/lastname</span></code></pre>
     <ol></ol> 
     <h2 id="basics-references">Creating References</h2> 
     <p>Before doing any operations on your Helium.io repository, you need a Helium.io reference, which is a pointer to data inside your Helium.io repository. </p>
     <p>You create a Helium.io reference by specifying the URL of the data you would like to access: </p>
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> sampleRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io'</span>);</code></pre>
     <p></p> 
     <p></p> 
     <p>Creating a Helium.io reference is an extremely light-weight operation, so you can create as many as you like without worrying about wasting bandwidth or memory. </p>
     <p>Since references are created so often in Helium.io applications, there are a couple of helper functions to make constructing them easier. </p>
     <p>First, each reference has a function that takes the path to a child and returns a reference pointing to that child location: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> childRef = sampleRef.child(<span class="string">'heroes'</span>);
<span class="comment">// This is equivalent to:</span>
<span class="keyword">var</span> childRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io/heroes'</span>);</code></pre>
     <p></p> 
     <p></p> 
     <p>Second, each reference has a function that returns a reference to its parent location. For example: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> parentRef = childRef.parent();
<span class="comment">// parentRef and sampleRef now point to the same location.</span></code></pre> 
     <p></p> 
     <p></p> 
     <p>Here are several ways of creating a reference that points to the same Helium.io location: </p>
     <p></p> 
     <p></p> 
     <pre><code>heroesRef = sampleRef.child(<span class="string">'heroes'</span>);
batmanRef = heroesRef.child(<span class="string">'batman'</span>);
<span class="comment">// is equivalent to:</span>
batmanRef = sampleRef.child(<span class="string">'heroes/batman'</span>);

messageListRef = batmanRef.parent().parent().child(<span class="string">'message_list'</span>);
<span class="comment">// is equivalent to:</span>
messageListRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io/message_list'</span>);</code></pre>
     <p></p> 
     <p></p> 
     <p>Once you have a Helium.io reference, you can use it to read, write, and query data at that location using the other Helium.io API functions.&nbsp;</p>
     <ul></ul> 
     <h2 id="basics-writing">Writing Data</h2> 
     <p>The basic Helium.io write operation is a &quot;set&quot;, which overwrites any data at the specified location. The example below demonstrates setting the first and last names of hero 'batman'. </p>
     <p></p> 
     <p></p> 
     <pre><code><span class="comment">// First we get a reference to the location of the heroe's data:</span>
<span class="keyword">var</span> nameRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io/heroes/batman'</span>);

<span class="comment">// And then we write data to his first and last name locations:</span>
nameRef.child(<span class="string">'firstname'</span>).set(<span class="string">'Bruce'</span>);
nameRef.child(<span class="string">'lastname'</span>).set(<span class="string">'Wayne'</span>);</code></pre> 
     <p></p> 
     <p></p> 
     <p>In addition to strings, you can write booleans, numbers, and objects to any Helium.io location. When a javascript object is written, the object properties are automatically mapped to Helium.io child locations in a nested fashion: &quot;foo.bar&quot; maps to the child &quot;foo/bar&quot;, &quot;foo.bar.baz&quot; maps to the child &quot;foo/bar/baz&quot; and so on. For example, the code below sets the first and last name of user 'fred', just as the previous code example did: </p>
     <p></p> 
     <p></p> 
     <pre><code>nameRef.set({firstname : <span class="string">'Bruce'</span>, lastname : <span class="string">'Wayne</span>}); </code></pre> 
     <p></p> 
     <p></p> 
     <p>The above two examples ― writing the first and last name separately and writing them at the same time as an object ― will result in the same data being saved to your Helium. The set operation will overwrite</p>
     <p>If you want to write multiple children of a Helium.io location at the same time without overwriting other existing data, you can perform an &quot;update&quot; operation as shown: </p>
     <p></p> 
     <p></p> 
     <pre><code>nameRef.update({firstname : <span class="string">'Bruce'</span>, lastname : <span class="string">'Wayne'</span>});</code></pre> 
     <p></p> 
     <h3>Lists of Data</h3>
     <h2 id="basics-reading"><p style="font-size: 14px; line-height: 20px;">Helium.io provides a helper function which automates the generation of unique child names. This function is called&nbsp;<a href="http://localhost:8000/javascript/helium.io/push.html" class="functionLink">push( )</a>&nbsp;in JavaScript. By using unique child names for each write, many clients can append children to the same location at the same time without fear of conflicts.</p><p style="font-size: 14px; line-height: 20px;">Here is an example:</p><p style="font-size: 14px; line-height: 20px;"></p><p style="font-size: 14px; line-height: 20px;"></p><pre><code style="font-size: 12px;"><span class="comment">// Generate a reference to a new location with push</span>
<span class="keyword">var</span> newPushRef = listRef.push();

<span class="comment">// Set some data to the generated location</span>
newPushRef.set({user_id: <span class="string">'wilma'</span>, text: <span class="string">'Hello'</span>});

<span class="comment">// Get the name generated by push</span>
<span class="keyword">var</span> pushedName = newPushRef.name();</code></pre><p style="font-size: 14px; line-height: 20px;"></p><p style="font-size: 14px; line-height: 20px;"></p><p style="font-size: 14px; line-height: 20px;">When push( ) with no arguments is called, it returns a Helium.io reference. You can then use this reference to do any of the usual Helium.io operations, such as getting its name or setting data to it.</p><p style="font-size: 14px; line-height: 20px;">In JavaScript, the pattern of calling push( ) and then immediately calling set( ) is so common that we let you combine them by just passing the data to be set directly to push( ) as follows:</p><p style="font-size: 14px; line-height: 20px;"></p><p style="font-size: 14px; line-height: 20px;"></p><pre><code style="font-size: 12px;"><span class="comment">// These two methods are equivalent</span>
listRef.push().set({user_id: <span class="string">'wilma'</span>, text: <span class="string">'Hello'</span>});
listRef.push({user_id: <span class="string">'wilma'</span>, text: <span class="string">'Hello'</span>});</code></pre><p style="font-size: 14px; line-height: 20px;"></p><p style="font-size: 14px; line-height: 20px;"></p></h2>
     <h2>Reading Data</h2> 
     <p>Because Helium.io allows real-time data access, data is never read synchronously. Instead, you read data by attaching a callback to a Helium.io reference as shown: </p>
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> dataRef = <span class="keyword">new</span> Helium.io(<span class="string">'http://localhost:8080/helium.io/heroes/batman/firstname'</span>);
dataRef.on(<span class="string">'value'</span>, <span class="keyword">function</span>(snapshot) {
  alert(<span class="string">'batman’s first name is '</span> + snapshot.val());
});</code></pre> 
     <p></p> 
     <p></p> 
     <p><strong>Callbacks are triggered both for the initial state of your data and again any time data changes.</strong> In the above example, the callback will be called again if Batman's first name ever changes.</p> 
     <p><strong>Callbacks receive snapshots of data.</strong> A snapshot is a wrapper that holds the data of a specific location.&nbsp;</p> 
     <h3>Helium.io Event Types</h3>
     <p>There are 4 event types for which you can attach callbacks: </p> 
     <ol>
      <li>Value</li>
      <li>Child Added</li>
      <li>Child Changed</li>
      <li>Child Removed</li>
     </ol> 
     <p>Helium.io only distributes the changes to the client that the client has event listeners attached to.</p>
     <h3><br /></h3> 
     <ul></ul> 
    </div> 
   </div> 
  </div> 
  <!-- /.container --> 
  <!-- JavaScript plugins (requires jQuery) --> 
  <script src="js/jquery.js"></script> 
  <!-- Include all compiled plugins (below), or include individual files as needed --> 
  <script src="js/bootstrap.js"></script> 
  <!-- Enable responsive features in IE8 with Respond.js (http://github.com/scottjehl/Respond) --> 
  <script src="js/respond.min.js"></script> 
  <script src="js/reference.js"></script>  
 </body>
</html>