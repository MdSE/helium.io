<!DOCTYPE html>
<html lang="en">
 <head> 
  <meta charset="utf-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <meta name="description" content="" /> 
  <meta name="author" content="" /> 
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <title>Roadrunner</title> 
  <!-- Bootstrap core CSS --> 
  <link href="css/bootstrap.css" rel="stylesheet" /> 
  <!-- Custom styles for this template --> 
  <link href="css/roadrunner.css" rel="stylesheet" /> 
 </head> 
 <body> 
  <div class="navbar navbar-inverse navbar-static-top"> 
   <div class="container"> 
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
    <a class="navbar-brand" href="#">Roadrunner</a> 
    <div class="nav-collapse collapse"> 
     <ul class="nav navbar-nav"> 
      <li><a href="index.html">Home</a></li> 
      <li class="active"><a href="#">Reference</a></li> 
      <!--     <li><a href="javascript.html">Javascript API</a></li>
                <li><a href="security.html">Security API</a></li>
                <li><a href="rest.html">REST API</a></li>--> 
     </ul> 
    </div> 
    <!--/.nav-collapse --> 
   </div> 
  </div> 
  <div class="container mainContent"> 
   <div class="row"> 
    <!--main content--> 
    <div class="col-lg-3"> 
     <div class="bs-sidebar" style=""> 
      <ul class="nav bs-sidenav"> 
       <li> <a href="#quickstart">Quickstart</a> 
        <ul class="nav"> 
         <li class=""><a href="#quickstart-installation">Installation</a></li> 
         <li class=""><a href="#quickstart-javascript">Javascript</a></li> 
         <li class=""><a href="#quickstart-rest">REST</a></li> 
        </ul> </li> 
       <li> <a href="#basics">Basics</a> 
        <ul class="nav"> 
         <li class=""><a href="#basics-structure">Data Structure</a></li> 
         <li class=""><a href="#basics-references">Creating References</a></li> 
         <li class=""><a href="#basics-writing">Writing Data</a></li> 
         <li class=""><a href="#basics-reading">Reading Data</a></li> 
        </ul> </li> 
      </ul> 
     </div> 
    </div> 
    <div class="col-lg-9 doc-content"> 
     <div class="page-header"> 
      <h1 id="quickstart">Quick Start</h1> 
     </div> 
     <h2 id="quickstart-installation">Installation</h2> 
     <h4></h4> 
     <h3>Tomcat</h3> 
     <p>Simply put the <i>roadrunner.war</i> into the webapps folder of your Apache Tomcat v7.0.3x. Afterwards roadrunner will be available to your under <i>http://localhost:8080/roadrunner</i></p> 
     <h3>Netty Standalone</h3> 
     <p>You can also use the Netty standalone variant of roadrunner.</p> 
     <pre style=""><code style="font-size: 12px;">java -jar roadrunner-netty.jar -url <span class="string">http://localhost:8080/roadrunner</span><span class="xml"><span class="tag"><br style="" /></span></span></code></pre> 
     <p></p> 
     <p></p> 
     <h2 id="quickstart-javascript">Javascript</h2> 
     <p>Simply include the JavaScript library in the &lt;head&gt; tag of your web page.&nbsp;</p> 
     <pre><code>&lt;script type=<span class="string">'text/javascript'</span> src=<span class="string">'http://localhost:8080/roadrunner/roadrunner.js'</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></code></pre> 
     <p>Finally, create a Roadrunner reference using the URL to your Roadrunner Repository and start using your data: </p> 
     <pre><code><span class="keyword">var</span> myRootRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner'</span>);
myRootRef.set(<span class="string">'Beep, Beep'</span>);</code></pre> 
     <p></p> 
     <h2 id="quickstart-rest">REST</h2> 
     <p>You can use any Roadrunner URL as a REST endpoint. </p> 
     <p>Here we read some data from the root of our Roadrunner: </p> 
     <pre><code>curl http:<span class="comment">//localhost:8080/roadrunner</span></code></pre> 
     <p>Next, we write data at some data inside the repository: </p> 
     <pre><code>curl -X PUT -d <span class="string">&quot;\&quot;Beep, Beep\&quot;&quot;</span> http:<span class="comment">//localhost:8080/roadrunner</span></code></pre> 
     <h1 id="basics">Basics&nbsp; </h1> 
     <h2 id="basics-structure">Data Structure</h2> 
     <pre><code>http:<span class="comment">//localhost:8080/roadrunner/sample-chat</span></code></pre> 
     <p>Every data node inside a Roadrunner repository is addressable by URL. For example, here's a depiction of a Simple Roadrunner Repository with a title and two heroes: </p> 
     <p><img src="images/RepositoryStructure.png" alt="SampleChat Data Structure" /> </p> 
     <p>These URLs that point to data are called locations. At a location inside a Roadrunner Repository you can store strings, numbers, booleans, or nested children. To store data hierarchically you should use nested children. For example, our simple example has a list of heroes, which are located at: </p> 
     <pre><code>http:<span class="comment">//localhost:8080/roadrunner/heroes</span></code></pre> 
     <p>The data for 'superman' and 'batman' are stored at these nested locations: </p> 
     <pre><code>http:<span class="comment">//localhost:8080/roadrunner/heroes/batman</span>
http:<span class="comment">//localhost:8080/roadrunner/heroes/superman</span></code></pre> 
     <p>In our example, 'batman' and 'superman' are <strong>children</strong> of 'heroes', and 'heroes' is the <strong>parent</strong> of 'batman' and 'superman'. </p> 
     <p>Please note a location can either contain data (a string, number, or boolean) or a nested node, but not both. </p> 
     <p>Locations for data can nest as deeply as you like. For example, the last name for user 'batman' is located at: </p> 
     <pre><code>http:<span class="comment">//localhost:8080/roadrunner/heroes/batman/lastname</span></code></pre> 
     <ol></ol> 
     <h2 id="basics-references">Creating References</h2> 
     <p>Before doing any operations on your Roadrunner repository, you need a Roadrunner reference, which is a pointer to data inside your Roadrunner repository. </p> 
     <p>You create a Roadrunner reference by specifying the URL of the data you would like to access: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> sampleRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner'</span>);</code></pre> 
     <p></p> 
     <p></p> 
     <p>Creating a Roadrunner reference is an extremely light-weight operation, so you can create as many as you like without worrying about wasting bandwidth or memory. </p> 
     <p>Since references are created so often in Roadrunner applications, there are a couple of helper functions to make constructing them easier. </p> 
     <p>First, each reference has a function that takes the path to a child and returns a reference pointing to that child location: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> childRef = sampleRef.child(<span class="string">'heroes'</span>);
<span class="comment">// This is equivalent to:</span>
<span class="keyword">var</span> childRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner/heroes'</span>);</code></pre> 
     <p></p> 
     <p></p> 
     <p>Second, each reference has a function that returns a reference to its parent location. For example: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> parentRef = childRef.parent();
<span class="comment">// parentRef and sampleRef now point to the same location.</span></code></pre> 
     <p></p> 
     <p></p> 
     <p>Here are several ways of creating a reference that points to the same Roadrunner location: </p> 
     <p></p> 
     <p></p> 
     <pre><code>heroesRef = sampleRef.child(<span class="string">'heroes'</span>);
batmanRef = heroesRef.child(<span class="string">'batman'</span>);
<span class="comment">// is equivalent to:</span>
batmanRef = sampleRef.child(<span class="string">'heroes/batman'</span>);

messageListRef = batmanRef.parent().parent().child(<span class="string">'message_list'</span>);
<span class="comment">// is equivalent to:</span>
messageListRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner/message_list'</span>);</code></pre> 
     <p></p> 
     <p></p> 
     <p>Once you have a Roadrunner reference, you can use it to read, write, and query data at that location using the other Roadrunner API functions.&nbsp;</p> 
     <ul></ul> 
     <h2 id="basics-writing">Writing Data</h2> 
     <p>The basic Roadrunner write operation is a &quot;set&quot;, which overwrites any data at the specified location. The example below demonstrates setting the first and last names of hero 'batman'. </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="comment">// First we get a reference to the location of the heroe's data:</span>
<span class="keyword">var</span> nameRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner/heroes/batman'</span>);

<span class="comment">// And then we write data to his first and last name locations:</span>
nameRef.child(<span class="string">'firstname'</span>).set(<span class="string">'Bruce'</span>);
nameRef.child(<span class="string">'lastname'</span>).set(<span class="string">'Wayne'</span>);</code></pre> 
     <p></p> 
     <p></p> 
     <p>In addition to strings, you can write booleans, numbers, and objects to any Roadrunner location. When a javascript object is written, the object properties are automatically mapped to Roadrunner child locations in a nested fashion: &quot;foo.bar&quot; maps to the child &quot;foo/bar&quot;, &quot;foo.bar.baz&quot; maps to the child &quot;foo/bar/baz&quot; and so on. For example, the code below sets the first and last name of user 'fred', just as the previous code example did: </p> 
     <p></p> 
     <p></p> 
     <pre><code>nameRef.set({firstname : <span class="string">'Bruce'</span>, lastname : <span class="string">'Wayne</span>}); </code></pre> 
     <p></p> 
     <p></p> 
     <p>The above two examples ― writing the first and last name separately and writing them at the same time as an object ― will result in the same data being saved to your Roadrunner. The set operation will overwrite</p> 
     <p>If you want to write multiple children of a Roadrunner location at the same time without overwriting other existing data, you can perform an &quot;update&quot; operation as shown: </p> 
     <p></p> 
     <p></p> 
     <pre><code>nameRef.update({firstname : <span class="string">'Bruce'</span>, lastname : <span class="string">'Wayne'</span>});</code></pre> 
     <p></p> 
     <h2 id="basics-reading">Reading Data</h2> 
     <p>Because Roadrunner allows real-time data access, data is never read synchronously. Instead, you read data by attaching a callback to a Roadrunner reference as shown: </p> 
     <p></p> 
     <p></p> 
     <pre><code><span class="keyword">var</span> dataRef = <span class="keyword">new</span> Roadrunner(<span class="string">'http://localhost:8080/roadrunner/heroes/batman/firstname'</span>);
dataRef.on(<span class="string">'value'</span>, <span class="keyword">function</span>(snapshot) {
  alert(<span class="string">'batman’s first name is '</span> + snapshot.val());
});</code></pre> 
     <p></p> 
     <p></p> 
     <p><strong>Callbacks are triggered both for the initial state of your data and again any time data changes.</strong> In the above example, the callback will be called again if Batman's first name ever changes.</p> 
     <p><strong>Callbacks receive snapshots of data.</strong> A snapshot is a wrapper that holds the data of a specific location.&nbsp;</p> 
     <h3>Roadrunner Event Types</h3> 
     <p>There are 4 event types for which you can attach callbacks: </p> 
     <ol> 
      <li>Value</li> 
      <li>Child Added</li> 
      <li>Child Changed</li> 
      <li>Child Removed</li> 
     </ol> 
     <p>Roadrunner only distributes the changes to the client that the client has event listeners attached to.</p> 
     <ul></ul> 
    </div> 
   </div> 
  </div> 
  <!-- /.container --> 
  <!-- JavaScript plugins (requires jQuery) --> 
  <script src="js/jquery.js"></script> 
  <!-- Include all compiled plugins (below), or include individual files as needed --> 
  <script src="js/bootstrap.js"></script> 
  <!-- Enable responsive features in IE8 with Respond.js (http://github.com/scottjehl/Respond) --> 
  <script src="js/respond.min.js"></script> 
  <script src="js/reference.js"></script>  
 </body>
</html>